âœ… 5. ê°€ê²Œ ë¦¬ë·° í¬ë¡¤ë§ (ë„¤ì´ë²„ ê¸°ì¤€ ì˜ˆì‹œ)
python
ë³µì‚¬
í¸ì§‘
# crawler.py

import requests
from bs4 import BeautifulSoup

def crawl_naver_reviews(store_name):
    query = store_name + " ë¦¬ë·°"
    url = f"https://search.naver.com/search.naver?query={query}"
    headers = {"User-Agent": "Mozilla/5.0"}
    res = requests.get(url, headers=headers)

    if res.status_code != 200:
        return ["ë¦¬ë·°ë¥¼ ê°€ì ¸ì˜¤ì§€ ëª»í–ˆì–´ìš” ğŸ˜¢"]

    soup = BeautifulSoup(res.text, "html.parser")
    
    # ê²€ìƒ‰ê²°ê³¼ì—ì„œ ë¦¬ë·°ë¡œ ë³´ì´ëŠ” ë¶€ë¶„ ê¸ì–´ì˜¤ê¸° (ê°„ë‹¨ ì˜ˆì‹œ)
    reviews = []
    for tag in soup.find_all("span"):
        txt = tag.get_text()
        if "ë§›ìˆ" in txt or "ë³„ì " in txt or "ì¶”ì²œ" in txt:
            reviews.append(txt)
        if len(reviews) >= 3:
            break

    if not reviews:
        return ["ë¦¬ë·°ê°€ ì—†ì–´ìš” ğŸ˜…"]
    return reviews
âš ï¸ ë„¤ì´ë²„ëŠ” HTML êµ¬ì¡°ê°€ ìì£¼ ë°”ë€Œê¸° ë•Œë¬¸ì— ì •í™•í•œ í´ë˜ìŠ¤ëª…ì„ í™•ì¸í•˜ê³  í¬ë¡¤ë§í•´ì•¼ í•´. seleniumìœ¼ë¡œ ë™ì  í˜ì´ì§€ ëŒ€ì‘ë„ ê°€ëŠ¥í•´.

ğŸ§ª ì‚¬ìš© ì˜ˆì‹œ
python
ë³µì‚¬
í¸ì§‘
from recommender import recommend_restaurants
from crawler import crawl_naver_reviews

# ì‚¬ìš©ìê°€ ì…ë ¥í•œ ì˜ˆì‹œ
keyword = "ë„ì‹œë½"
price_range = "medium"

results = recommend_restaurants(keyword, price_range)

for res in results:
    print(f"ğŸ½ï¸ {res['name']} ({res['price']}ì›) - ë©”ë‰´: {res['menu']}")
    reviews = crawl_naver_reviews(res["name"])
    for review in reviews:
        print(f"ğŸ“ {review}")